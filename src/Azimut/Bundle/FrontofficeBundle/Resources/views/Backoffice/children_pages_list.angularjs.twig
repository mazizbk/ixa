{#
# @author: Yoann Le Crom <yoann.lecrom@azimut.net>
# date:   2015-02-11 14:21:43
#}

{% verbatim %}

    <div class="table-responsive" ng-if="pagesParent.pages.length > 0 || pagesParent.childrenPages.length > 0">
        <table class="table table-striped table-hover" ng-class="{'table-bordered': borderedPagesTable == true}">

            <thead>
                <tr>
                    <th class="icon-column"></th>
                    <th>
                        {% endverbatim %}{{ 'title'|trans|capitalize }}{% verbatim %}
                    </th>
                    <th>
                        {% endverbatim %}{{ 'type'|trans|capitalize }}{% verbatim %}
                    </th>
                    <th>
                        {% endverbatim %}{{ 'pages'|trans|capitalize }}{% verbatim %}
                    </th>
                    <th class="icon-column"></th>
                </tr>
            </thead>

            <tbody>
                <tr
                    ng-repeat="page in (pagesParent.pages || pagesParent.childrenPages) | orderBy:'displayOrder'"
                >
                    <td class="icon-column">
                        <span class="glyphicon glyphicon-file" ng-class="{'inactive': !page.showInMenu}"></span>
                    </td>
                    <td>
                        <a href ng-click="openPage(page)" ng-class="{'inactive': !page.active}">{{ page.name }}</a>
                    </td>
                    <td>
                        {{ Translator.trans(page.pageType) }}
                    </td>
                    <td>
                        {{ page.childrenPages.length }}
                    </td>
                    <td class="icon-column">
                        <a href ng-click="deletePage(page)" az-confirm-click="Translator.trans('page.%name%.confirm.permanent.delete', {name: page.name})"><span class="glyphicon glyphicon-trash"></span></a>
                    </td>
                </tr>
            </tbody>

        </table>
    </div>

    <p class="data-not-found-message" ng-if="pagesParent.pages && 0 == pagesParent.pages.length"><span class="glyphicon glyphicon-info-sign"></span> {% endverbatim %}{{ 'no.page.in.this.menu'|trans|capitalize }}{% verbatim %}</p>

{% endverbatim %}
