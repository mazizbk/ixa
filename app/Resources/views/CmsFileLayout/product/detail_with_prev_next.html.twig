{#
# @author: Yoann Le Crom <yoann.lecrom@abstractive.fr>
# date:    2019-03-14 09:39:44
#}

<article>
    <h1>{{ cmsFile.title }}</h1>
    <h2>{{ cmsFile.subtitle }}</h2>

    {% if cmsFile.mainAttachment != null %}
        {% include 'CmsFileLayout/media_attachment.html.twig' with {
            'attachment': cmsFile.mainAttachment,
            'width': '300px',
            'height': '168px'
        } %}
    {% endif %}

    {% if cmsFile.complementaryAttachment1 != null %}
        {% include 'CmsFileLayout/media_attachment.html.twig' with {
            'attachment': cmsFile.complementaryAttachment1,
            'width': '300px',
            'height': '168px'
        } %}
    {% endif %}
    {% if cmsFile.complementaryAttachment2 != null %}
        {% include 'CmsFileLayout/media_attachment.html.twig' with {
            'attachment': cmsFile.complementaryAttachment2,
            'width': '300px',
            'height': '168px'
        } %}
    {% endif %}
    {% if cmsFile.complementaryAttachment3 != null %}
        {% include 'CmsFileLayout/media_attachment.html.twig' with {
            'attachment': cmsFile.complementaryAttachment3,
            'width': '300px',
            'height': '168px'
        } %}
    {% endif %}
    {% if cmsFile.complementaryAttachment4 != null %}
        {% include 'CmsFileLayout/media_attachment.html.twig' with {
            'attachment': cmsFile.complementaryAttachment4,
            'width': '300px',
            'height': '168px'
        } %}
    {% endif %}

    <p>{{ cmsFile.text|render_media_declination_tags|raw }}</p>

    <div class="clearfix"></div>

    {% for attachment in cmsFile.secondaryAttachments %}

        {% include 'CmsFileLayout/media_attachment.html.twig' with {
            'attachment': attachment,
            'width': '150px',
            'height': '84px'
        } %}

    {% endfor %}

    {% if cmsFile.associatedProducts|length > 0 %}
        <h3>{{ 'associated.products'|trans|capitalize }}</h3>
        {% for associatedProduct in cmsFile.associatedProducts %}
            {{ associatedProduct }}<br />
        {% endfor %}
    {% endif %}

</article>

<div class="clearfix"></div>

<br />

{#
    Be carefull with this example as it suppose the parent has a zone named 'products' wich contains this cmsFile.
    It is strongly advised not to use this in standard detail cms file templates
#}
{% include 'PageLayout/previous_and_next_cms_file_links.html.twig' with {
    'page': page,
    'zoneName': 'products',
    'cmsFile': cmsFile
} %}
